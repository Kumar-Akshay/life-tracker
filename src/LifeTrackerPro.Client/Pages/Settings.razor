@page "/settings"
@inject SettingsService SettingsSvc
@inject ISnackbar Snackbar

<PageTitle>Settings — LifeTracker Pro</PageTitle>

<div class="page-enter">
    <h1 class="lt-page-heading">Settings</h1>
    <p class="lt-page-subtitle">Customize your LifeTracker experience</p>

    <!-- Tracking Section -->
    <div style="margin-bottom:24px;">
        <div class="lt-section-label"><span>Tracking</span></div>
        <div class="lt-card" style="padding:0; overflow:hidden;">
            <div class="lt-setting-row">
                <span class="lt-setting-label">Time Granularity</span>
                <span class="lt-setting-value">1 Hour</span>
            </div>
            <div class="lt-setting-row">
                <span class="lt-setting-label">Period</span>
                <span class="lt-setting-value">Jan 1 – Dec 31, 2026</span>
            </div>
            <div class="lt-setting-row">
                <span class="lt-setting-label">Monthly Budget</span>
                <span class="lt-setting-value">$500</span>
            </div>
        </div>
    </div>

    <!-- AI Features Section -->
    <div style="margin-bottom:24px;">
        <div class="lt-section-label"><span>AI Features</span></div>
        <div class="lt-card" style="padding:0; overflow:hidden;">
            <div class="lt-setting-row">
                <span class="lt-setting-label">Auto-Fill Logger</span>
                <button class="lt-toggle @(_autoFill ? "on" : "off")" @onclick="() => _autoFill = !_autoFill">
                    <div class="lt-toggle-knob"></div>
                </button>
            </div>
            <div class="lt-setting-row">
                <span class="lt-setting-label">Smart Suggestions</span>
                <button class="lt-toggle @(_smartSuggestions ? "on" : "off")" @onclick="() => _smartSuggestions = !_smartSuggestions">
                    <div class="lt-toggle-knob"></div>
                </button>
            </div>
            <div class="lt-setting-row">
                <span class="lt-setting-label">Daily Summary</span>
                <button class="lt-toggle @(_dailySummary ? "on" : "off")" @onclick="() => _dailySummary = !_dailySummary">
                    <div class="lt-toggle-knob"></div>
                </button>
            </div>
            <div class="lt-setting-row">
                <span class="lt-setting-label">Goal Coaching</span>
                <button class="lt-toggle @(_goalCoaching ? "on" : "off")" @onclick="() => _goalCoaching = !_goalCoaching">
                    <div class="lt-toggle-knob"></div>
                </button>
            </div>
            <div class="lt-setting-row">
                <span class="lt-setting-label">Confidence</span>
                <span class="lt-setting-value">70%</span>
            </div>
        </div>
    </div>

    <!-- Notifications Section -->
    <div style="margin-bottom:24px;">
        <div class="lt-section-label"><span>Notifications</span></div>
        <div class="lt-card" style="padding:0; overflow:hidden;">
            <div class="lt-setting-row">
                <span class="lt-setting-label">Interval</span>
                <span class="lt-setting-value">Every 3 hours</span>
            </div>
            <div class="lt-setting-row">
                <span class="lt-setting-label">Quiet Hours</span>
                <span class="lt-setting-value">11 PM – 7 AM</span>
            </div>
            <div class="lt-setting-row">
                <span class="lt-setting-label">Push</span>
                <button class="lt-toggle @(_pushEnabled ? "on" : "off")" @onclick="() => _pushEnabled = !_pushEnabled">
                    <div class="lt-toggle-knob"></div>
                </button>
            </div>
        </div>
    </div>

    <!-- Data Section -->
    <div style="margin-bottom:24px;">
        <div class="lt-section-label"><span>Data</span></div>
        <div class="lt-card" style="padding:0; overflow:hidden;">
            <div class="lt-setting-row">
                <span class="lt-setting-label">Export</span>
                <button class="lt-setting-btn" @onclick="HandleExport">Excel / CSV / PDF</button>
            </div>
            <div class="lt-setting-row">
                <span class="lt-setting-label">Import</span>
                <button class="lt-setting-btn" @onclick="HandleImport">Upload .xlsx</button>
            </div>
        </div>
    </div>
</div>

@code {
    private bool _autoFill = true;
    private bool _smartSuggestions = true;
    private bool _dailySummary;
    private bool _goalCoaching = true;
    private bool _pushEnabled = true;

    private void HandleExport() => Snackbar.Add("Export feature coming soon!", Severity.Info);
    private void HandleImport() => Snackbar.Add("Import feature coming soon!", Severity.Info);
}
